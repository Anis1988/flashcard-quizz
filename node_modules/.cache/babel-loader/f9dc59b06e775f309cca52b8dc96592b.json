{"ast":null,"code":"import _toConsumableArray from\"/Users/anismedini/Desktop/code-js/flashcard-quizz/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/anismedini/Desktop/code-js/flashcard-quizz/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef}from'react';import FlashCardList from'./FlashCardList';import'./app.css';import axios from'axios';function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),flashcards=_useState2[0],setFlashcards=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),categories=_useState4[0],setCategories=_useState4[1];var url=\"https://opentdb.com/api.php\";var urlCat=\"https://opentdb.com/api_category.php\";var categoryEl=useRef();var amountEl=useRef();useEffect(function(){axios.get(urlCat).then(function(res){setCategories(res.data.trivia_categories);});},[]);function decodeString(str){var textArea=document.createElement('textarea');textArea.innerHTML=str;return textArea.value;}function handelSubmit(e){e.preventDefault();axios.get(url,{params:{amount:amountEl.current.value,category:categoryEl.current.value}}).then(function(res){setFlashcards(res.data.results.map(function(questionItem,index){var answer=decodeString(questionItem.correct_answer);var options=[].concat(_toConsumableArray(questionItem.incorrect_answers.map(function(a){return decodeString(a);})),[answer]);return{id:\"\".concat(index,\"-\").concat(Date.now()),// to overchek it to be unique\nquestion:decodeString(questionItem.question),answer:questionItem.correct_answer,options:options.sort(function(){return Math.random()-.5;})};}));});}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"form\",{className:\"header\",onSubmit:handelSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"category\"},\"Category\"),/*#__PURE__*/React.createElement(\"select\",{id:\"category\",ref:categoryEl},categories.map(function(category){return/*#__PURE__*/React.createElement(\"option\",{value:category.id,key:category.id},category.name);}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"amount\"},\"Number of Questions\"),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",id:\"amount\",min:\"1\",step:\"1\",defaultValue:10,ref:amountEl})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn\"},\"Generate\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(FlashCardList,{flashcards:flashcards})));}export default App;","map":{"version":3,"sources":["/Users/anismedini/Desktop/code-js/flashcard-quizz/src/App.js"],"names":["React","useState","useEffect","useRef","FlashCardList","axios","App","flashcards","setFlashcards","categories","setCategories","url","urlCat","categoryEl","amountEl","get","then","res","data","trivia_categories","decodeString","str","textArea","document","createElement","innerHTML","value","handelSubmit","e","preventDefault","params","amount","current","category","results","map","questionItem","index","answer","correct_answer","options","incorrect_answers","a","id","Date","now","question","sort","Math","random","name"],"mappings":"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","sourcesContent":["import React, {useState,useEffect,useRef} from 'react';\nimport FlashCardList from './FlashCardList';\nimport './app.css'\nimport axios from 'axios'\n\nfunction App() {\n  const [flashcards, setFlashcards] = useState([])\n  const [categories, setCategories] = useState([])\n  const url = \"https://opentdb.com/api.php\"\n  const urlCat = \"https://opentdb.com/api_category.php\";\n  const categoryEl = useRef()\n  const amountEl = useRef()\n\n  useEffect(()=> {\n    axios.get(urlCat)\n    .then(res => {\n     setCategories(res.data.trivia_categories)\n    })\n  },[])\n\n  function decodeString(str) {\n    const textArea = document.createElement('textarea')\n    textArea.innerHTML = str\n    return textArea.value\n  }\n\n  function handelSubmit(e){\n    e.preventDefault();\n    axios.get(url,{\n      params:{\n        amount:amountEl.current.value,\n        category:categoryEl.current.value\n      }\n    })\n    .then(res=> {\n      setFlashcards(res.data.results.map((questionItem,index)=> {\n        const answer =  decodeString(questionItem.correct_answer)\n        const options = [...questionItem.incorrect_answers.map(a=> decodeString(a))\n          ,answer]\n        return {\n          id:`${index}-${Date.now()}`, // to overchek it to be unique\n          question:decodeString(questionItem.question),\n          answer:questionItem.correct_answer,\n          options:options.sort(()=> Math.random() - .5)\n        }\n      }))\n    })\n  }\n\n  return (\n    <>\n    <form className=\"header\" onSubmit={handelSubmit}>\n      <div className=\"form-group\">\n        <label htmlFor=\"category\">Category</label>\n        <select id=\"category\" ref={categoryEl}>\n          {categories.map(category => {\n            return  <option value={category.id} key={category.id}>{category.name}</option>\n          })}\n        </select>\n      </div>\n      <div className=\"form-group\">\n      <label htmlFor=\"amount\">Number of Questions</label>\n      <input type=\"number\" id=\"amount\" min=\"1\" step=\"1\" defaultValue={10} ref={amountEl}></input>\n      </div>\n      <div className=\"form-group\">\n            <button className=\"btn\">Generate</button>\n      </div>\n    </form>\n    <div className=\"container\">\n        <FlashCardList flashcards={flashcards}/>\n    </div>\n    </>\n  )\n}\n\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}